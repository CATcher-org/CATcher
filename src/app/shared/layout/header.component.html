<mat-toolbar color="primary" style="position: sticky; position: -webkit-sticky; top: 0; z-index: 1000;">
  <button *ngIf="isBackButtonShown()" mat-icon-button class="mat-toolbar mat-primary" style="transform: scale(0.9)" (click)="goBack()">
    <mat-icon>arrow_back_ios</mat-icon>
  </button>
  <a class="mat-toolbar mat-primary" style="text-decoration: none" [routerLink]="phaseService.currentPhase">CATcher</a>
  <span *ngIf="auth.isAuthenticated()" style="margin-left: 10px">
    ({{phaseService.phaseDescription[phaseService.currentPhase]}})
  </span>

  <div *ngIf="auth.isAuthenticated() && this.phaseService.sessionData.openPhases.length > 1">
    <button mat-button [matMenuTriggerFor]="menu">Open Phases</button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item *ngFor="let openPhase of this.phaseService.sessionData.openPhases"
        [disabled]="this.phaseService.currentPhase === openPhase"
       (click)="this.routeToSelectedPhase(openPhase)">{{ this.phaseService.sessionData[openPhase].toUpperCase() }}</button>
    </mat-menu>
  </div>

  <span style="flex: 1 1 auto"></span>
  <button *ngIf="auth.isAuthenticated() && isOpenUrlButtonShown()" mat-button matTooltip="View current page in web-browser" (click)="viewBrowser()">
    View in Browser
    <mat-icon>link</mat-icon>
  </button>
  <button *ngIf="auth.isAuthenticated() && isReloadButtonShown() && !this.isReloadButtonDisabled"
    mat-button matTooltip="Synchronize with Github data" (click)="reload()">
    Sync
    <mat-icon>refresh</mat-icon>
  </button>
  <div class="sync-spinner" *ngIf="auth.isAuthenticated() && isReloadButtonShown() && this.isReloadButtonDisabled">
    <span style="font-size: 14px; margin-right: 7px;">Sync</span>
    <mat-spinner class="white-spinner" [diameter]="20"></mat-spinner>
  </div>

  <button *ngIf="auth.isAuthenticated()" mat-button matTooltip="Log out" (click)="logOut()">
    ({{userService.currentUser.loginId}})
    <mat-icon style="margin-left: 2px">exit_to_app</mat-icon>
  </button>
</mat-toolbar>
