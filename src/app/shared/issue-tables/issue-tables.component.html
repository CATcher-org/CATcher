<h1>TEST TABLE</h1>

<table mat-table [dataSource]="this.issues" matSort class="mat-elevation-z8">

  <!-- ID Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
    <td mat-cell *matCellDef="let issue"> {{issue.id}} </td>
  </ng-container>

  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
    <td mat-cell *matCellDef="let issue">
      <a class="no-underline link-grey-dark" [routerLink]="'issues/' + issue.id"> {{issue.title}} </a>
    </td>
  </ng-container>

  <ng-container matColumnDef="type">
    <th mat-header-cell [style.width]="permissions.canCRUDTeamResponse() ? '15%' : '20%'" *matHeaderCellDef mat-sort-header> Type </th>
    <td mat-cell *matCellDef="let issue">
          <span [ngStyle]="this.labelService.setLabelStyle(this.labelService.getColorOfLabel(issue.type))">
              {{issue.type || '-'}}
          </span>
    </td>
  </ng-container>

  <ng-container matColumnDef="severity">
    <th mat-header-cell [style.width]="permissions.canCRUDTeamResponse() ? '10%' : '15%'" *matHeaderCellDef mat-sort-header> Severity </th>
    <td mat-cell *matCellDef="let issue">
        <span [ngStyle]="this.labelService.setLabelStyle(this.labelService.getColorOfLabel(issue.severity))">
          {{issue.severity || '-'}}
        </span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="this.headers"></tr>
  <tr mat-row *matRowDef="let row; columns: this.headers;"></tr>
</table>
